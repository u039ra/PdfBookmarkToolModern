<Window x:Class="PdfBookmarkToolModern.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="âš™ï¸ è¨­å®š" 
        Height="500" Width="450"
        MinHeight="400" MinWidth="400"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- è¨­å®šå†…å®¹ -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- å¤–è¦³è¨­å®š -->
                <GroupBox Header="ðŸŽ¨ å¤–è¦³" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <!-- ãƒ†ãƒ¼ãƒžè¨­å®š -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="ãƒ†ãƒ¼ãƒž:" VerticalAlignment="Center" Margin="0,0,10,0" Width="80"/>
                            <ComboBox Grid.Column="1" 
                                     SelectedItem="{Binding Settings.CurrentTheme}"
                                     ItemsSource="{Binding Settings.AvailableThemes}"
                                     ToolTip="ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ãƒ¼ãƒžã‚’é¸æŠž"/>
                        </Grid>

                        <!-- è¨€èªžè¨­å®š -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="è¨€èªž:" VerticalAlignment="Center" Margin="0,0,10,0" Width="80"/>
                            <ComboBox Grid.Column="1" 
                                     SelectedItem="{Binding Settings.Language}"
                                     ItemsSource="{Binding Settings.AvailableLanguages}"
                                     ToolTip="è¡¨ç¤ºè¨€èªžã‚’é¸æŠž">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding}"/>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </ComboBox>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- PDFè¨­å®š -->
                <GroupBox Header="ðŸ“„ PDFè¨­å®š" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <CheckBox IsChecked="{Binding Settings.ExpandBookmarksOnSave}"
                                 Content="PDFä¿å­˜æ™‚ã«ãƒ–ãƒƒã‚¯ãƒžãƒ¼ã‚¯ã‚’å±•é–‹ã™ã‚‹"
                                 ToolTip="PDFãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿æ™‚ã€ãƒ–ãƒƒã‚¯ãƒžãƒ¼ã‚¯ã‚’å±•é–‹çŠ¶æ…‹ã§ä¿å­˜ã—ã¾ã™"
                                 Margin="0,0,0,10"/>
                        
                        <CheckBox IsChecked="{Binding Settings.ShowConfirmationDialogs}"
                                 Content="ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã™ã‚‹"
                                 ToolTip="å‰Šé™¤ã‚„ä¸Šæ›¸ãæ™‚ã«ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¾ã™"
                                 Margin="0,0,0,10"/>
                    </StackPanel>
                </GroupBox>

                <!-- ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š -->
                <GroupBox Header="ðŸ“ ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <!-- æœ€è¿‘ä½¿ç”¨ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«æ•° -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="æœ€è¿‘ä½¿ç”¨ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«æ•°:" VerticalAlignment="Center" Width="140"/>
                            <TextBox Grid.Column="1" 
                                    Text="{Binding Settings.RecentFileCount, UpdateSourceTrigger=PropertyChanged}"
                                    ToolTip="æœ€è¿‘ä½¿ç”¨ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«è¡¨ç¤ºã™ã‚‹ä»¶æ•°ï¼ˆ1-50ï¼‰"
                                    Margin="10,0,0,0"/>
                        </Grid>

                        <!-- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª:" VerticalAlignment="Center" Width="140"/>
                            <TextBox Grid.Column="1" 
                                    Text="{Binding Settings.DefaultOutputDirectory, UpdateSourceTrigger=PropertyChanged}"
                                    ToolTip="ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª"
                                    Margin="10,0,5,0"/>
                            <Button Grid.Column="2" Content="å‚ç…§..." 
                                   Command="{Binding SelectOutputDirectoryCommand}"
                                   Width="60"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®š -->
                <GroupBox Header="ðŸ’¾ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®š" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <CheckBox IsChecked="{Binding Settings.AutoBackup}"
                                 Content="è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æœ‰åŠ¹ã«ã™ã‚‹"
                                 ToolTip="è¨­å®šã®è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æœ‰åŠ¹ã«ã—ã¾ã™"
                                 Margin="0,0,0,10"/>

                        <!-- è‡ªå‹•ä¿å­˜é–“éš” -->
                        <Grid Margin="0,0,0,10" IsEnabled="{Binding Settings.AutoBackup}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="è‡ªå‹•ä¿å­˜é–“éš”:" VerticalAlignment="Center" Width="140"/>
                            <Slider Grid.Column="1" 
                                   Value="{Binding Settings.AutoSaveInterval}"
                                   Minimum="60" Maximum="3600" 
                                   TickFrequency="60"
                                   IsSnapToTickEnabled="True"
                                   ToolTip="è‡ªå‹•ä¿å­˜ã®é–“éš”ï¼ˆç§’ï¼‰"
                                   Margin="10,0,5,0"/>
                            <TextBlock Grid.Column="2" 
                                      Text="{Binding Settings.AutoSaveInterval, StringFormat=\{0\}ç§’}"
                                      VerticalAlignment="Center" 
                                      Width="50"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <!-- ãƒœã‚¿ãƒ³ãƒ‘ãƒãƒ« -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã™" 
                   Command="{Binding ResetToDefaultCommand}"
                   Margin="0,0,10,0" 
                   Width="120"/>
            <Button Content="ã‚­ãƒ£ãƒ³ã‚»ãƒ«" 
                   Command="{Binding CancelCommand}"
                   IsCancel="True"
                   Margin="0,0,10,0" 
                   Width="80"/>
            <Button Content="ä¿å­˜" 
                   Command="{Binding SaveCommand}"
                   IsDefault="True"
                   Width="80"
                   Style="{DynamicResource AccentButtonStyle}"/>
        </StackPanel>
    </Grid>
</Window> 